%! Autor = Jander Moreira

\RequirePackage{pgfopts}
\RequirePackage{etoolbox}

% Options
\ifcsdef{plt@VariablesDeclared}{}{
    \csdef{plt@VariablesDeclared}{}

    \newbool{plt@LoadItemizer}
    \newbool{plt@LoadBoxes}
    \newbool{plt@LoadGetItems}

    \newbool{plt@LoadAllPalettes}

    \newbool{plt@KeepEnumerate}
    \newbool{plt@KeepItemize}
    \newbool{plt@KeepDescription}
}

\pgfkeys{
    /palettize/.cd,
%
% Packages
    itemizer/.is if = plt@LoadItemizer,
    boxes/.is if = plt@LoadBoxes,
    getitems/.is if = plt@LoadGetItems,
    all/.style = {itemizer, boxes, getitems},
%
% Palettes
    all-palettes/.is if = plt@LoadAllPalettes,
%
% Itemizer
    keep-enumerate/.is if = plt@KeepEnumerate,
    keep-itemize/.is if = plt@KeepItemize,
    keep-description/.is if = plt@KeepDescription,
    keep-all/.style = {keep-enumerate, keep-itemize, keep-description},
%
% Otherwise
    .unknown/.code = {\PackageError{palettize}{Unknown option: \pgfkeyscurrentname}},
}

\ProcessPgfOptions{palettize}